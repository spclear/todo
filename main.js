!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=function(){if(!localStorage.getItem("lists")){const t=[{id:"unlisted",listName:"Unlisted",listItems:[]}];localStorage.setItem("lists",JSON.stringify(t)),localStorage.setItem("currListId","unlisted")}};const n=()=>JSON.parse(localStorage.getItem("lists"));var r=function(t){const e=document.querySelector(t),s=n();let i="";s.forEach(t=>{i+=`\n      <option value='${t.id}' >\n        ${t.listName}\n      </option>\n    `}),e.innerHTML=i};var a=function(t,e){const s=n(),i=document.querySelector(t);let a='<div data-list-name="unlisted" class="lists__item unlisted">Unlisted</div>';s.forEach(t=>{"unlisted"!==t.id&&(a+=`\n        <div data-list-name="${t.id}" class="lists__item">\n          ${t.listName}\n          <i class="fas fa-times delete-list" data-list-name='${t.id}'></i>\n        </div>\n      `)}),i.innerHTML=a,r(e)};var l=function(t,e,s){document.querySelector(t).addEventListener("click",i=>{let r=n();const l=i.target.classList.contains(e);if(i.target&&l){const e=i.target.getAttribute("data-list-name");r=r.filter(t=>t.id!==e),localStorage.setItem("lists",JSON.stringify(r)),a(t,s)}})};var o=function(t){const e=localStorage.getItem("currListId"),s=document.querySelector(t),i=n();let r="";const a=i.find(t=>t.id===e);a&&a.listItems.forEach((t,e)=>{const{task:s,isImportant:i,isCompleted:n}=t;r+=function(t,e,s,i){return`\n    <div ${i?'style="background-color: rgba(0, 0, 0, .5)"':""} class="list-descr__task">\n      <input type="checkbox" id="${e}" ${i?"checked":""} name="completed">\n      <span ${i?'style="text-decoration: line-through #fff"':""} class="list-descr__task-text">\n        ${t}\n      </span>\n      <i class="fas fa-star ${s?"important":""}" data-important="${e}""></i>\n      <i class="fas fa-trash" data-delete="${e}"></i>\n    </div>\n  `}(s,e,i,n)}),r||(r='\n      <div class="list-descr__no-tasks">\n        You have no tasks yet :(\n      </div>\n    '),s.innerHTML=r};var c=function(t,e){const s=document.querySelector(t);s.addEventListener("submit",t=>{t.preventDefault();const i=new FormData(s),r=n(),a=r.find(t=>t.id===i.get("list")),l={task:i.get("task"),isImportant:!!i.get("important"),isCompleted:!1};a.listItems.push(l),localStorage.setItem("lists",JSON.stringify(r)),s.reset(),o(e)})};var d=function(t){function e(t,e){const s=n();(function(t){const e=localStorage.getItem("currListId");return t.find(t=>t.id===e).listItems})(s).forEach((s,i)=>{i==t&&(s[e]=!s[e])}),localStorage.setItem("lists",JSON.stringify(s))}document.querySelector(t).addEventListener("click",s=>{const i=s.target;if(i&&i.getAttribute("data-delete")){!function(t){const e=n(),s=localStorage.getItem("currListId"),i=e.findIndex(t=>t.id===s);e[i].listItems=e[i].listItems.filter((e,s)=>s!=t),localStorage.setItem("lists",JSON.stringify(e))}(i.getAttribute("data-delete")),o(t)}if(i&&i.getAttribute("data-important")){e(i.getAttribute("data-important"),"isImportant"),o(t)}if(i&&"checkbox"===i.getAttribute("type")){e(i.getAttribute("id"),"isCompleted"),o(t)}})};document.addEventListener("DOMContentLoaded",()=>{var t,e,s,u;i(),o("#tasks-list"),d("#tasks-list"),a(".lists__list","#select-list"),r("#select-list"),l(".lists__list","delete-list","#select-list"),t=".lists__list",e="delete-list",s="#tasks-list",u="#list-name",document.querySelector(t).addEventListener("click",i=>{const n=i.target.classList.contains(e),r=i.target.classList.contains(t);if(i.target&&!r&&!n){const t=i.target.getAttribute("data-list-name");localStorage.setItem("currListId",t),o(s),document.querySelector(u).textContent=t}}),((t,e,s)=>{const i=document.querySelector(t);i.addEventListener("submit",t=>{t.preventDefault();const r=n(),l=new FormData(i).get("list"),o=r.findIndex(t=>t.id===l.toLowerCase());r.length>=10&&alert("Max number of lists is 10!"),-1===o?(r.push({listName:l,id:l.toLowerCase(),listItems:[]}),localStorage.setItem("lists",JSON.stringify(r)),a(e,s),i.reset()):alert("This list is already exist!")})})(".new-list",".lists__list","#select-list"),c(".new-task","#tasks-list")})}]);
//# sourceMappingURL=main.js.map